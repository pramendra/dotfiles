#!/usr/bin/env bash
set -euo pipefail

cmd="${1:-help}"
case "$cmd" in
    link)
        # Create required directories
        mkdir -p "$HOME/.config/zsh"
        mkdir -p "$HOME/.config/starship"
        
        # Link configurations
        stow -v -t "$HOME" zsh
        stow -v -t "$HOME" starship
        ;;
    unlink)
        stow -Dv -t "$HOME" zsh
        stow -Dv -t "$HOME" starship
        ;;
    help|*)
        echo "Usage: dots {link|unlink}"
        ;;
esac